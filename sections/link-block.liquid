<div class="page-width">
  <div class="flex flex--grid flex--no-gutter">
    {% assign image_size = '680x' %}
    {% case section.blocks.size %}
      {% when 1 %}
        {% assign flex_size = '' %}
        {% assign image_size = '1140x' %}
      {% when 2 %}
        {% assign flex_size = 'medium-up--one-half' %}
      {% when 3 %}
        {% assign flex_size = 'medium-up--one-third' %}
      {% else %}
        {% assign flex_size = 'medium-up--one-quarter' %}
    {% endcase %}
    {% for block in section.blocks %}
      <div class="flex__item flex {{ flex_size }}" {{ block.shopify_attributes }}>
        <noscript class="link-block-no-js">
          <a href="{{ block.settings.link }}" class="link-block" {% if block.settings.image != blank %}style="background-image: url({{ block.settings.image | img_url: image_size | format: 'jpg' }});"{% endif %}>
          {% if block.settings.image == blank %}
            {% capture current %}{% cycle 1, 2 %}{% endcapture %}
            <div class="placeholder-background">
              {{ 'lifestyle-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
          {% endif %}
            <div class="flex flex--center-vertical">
              <div class="flex__item">
                <span class="emphasized-title h1 link-block__cta">
                  {{ block.settings.cta_label | escape }}
                </span>
              </div>
            </div>
          </a>
        </noscript>
          <a href="{{ block.settings.link }}" class="link-block lazyload"
           {% if block.settings.image != blank %}
              style="background-position: {{ block.settings.image_align }};
                     background-image: url('{{ block.settings.image | img_url: '300x300' }});"
            {% endif %}
            data-bgset="{% include 'bgset', image: block.settings.image %}"
            data-sizes="auto"
            data-parent-fit="cover">
          {% if block.settings.image == blank %}
            {% capture current %}{% cycle 1, 2 %}{% endcapture %}
            <div class="placeholder-background">
              {{ 'lifestyle-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
          {% endif %}
          <div class="flex flex--center-vertical">
            <div class="flex__item">
              <span class="emphasized-title h1 link-block__cta">
                {{ block.settings.cta_label | escape }}
              </span>
            </div>
          </div>
        </a>
      </div>
    {% endfor %}
  </div>

  {% if section.blocks.size == 0 %}
    {% include 'no-blocks' %}
  {% endif %}
</div>



{% schema %}
{
  "name": {
    "de": "Mehrere Linkblöcke",
    "en": "Multiple link blocks",
    "es": "Enlaces múltiples",
    "fr": "Blocs de liens multiples",
    "it": "Più gruppi di link",
    "ja": "複数のリンクのブロック",
    "nl": "Meerdere-link blokken",
    "pt-BR": "Blocos de links múltiplos",
    "zh-CN": "多个链接块",
    "zh-TW": "多重連結區塊"
  },
  "class": "index-section",
  "max_blocks": 10,
  "blocks": [
    {
      "type": "link_block",
      "name": {
        "de": "Linkblock",
        "en": "Link block",
        "es": "Vincular bloque",
        "fr": "Bloc de lien",
        "it": "Gruppo di link",
        "ja": "リンクのブロック",
        "nl": "Link blok",
        "pt-BR": "Bloco de link",
        "zh-CN": "链接块",
        "zh-TW": "連結區塊"
      },
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": {
            "de": "Foto",
            "en": "Image",
            "es": "Imagen",
            "fr": "Image",
            "it": "Immagine",
            "ja": "画像",
            "nl": "Afbeelding",
            "pt-BR": "Imagem",
            "zh-CN": "图片",
            "zh-TW": "圖片"
          }
        },
        {
          "type": "url",
          "id": "link",
          "label": {
            "de": "Link",
            "en": "Link",
            "es": "Enlace",
            "fr": "Lien",
            "it": "Link",
            "ja": "リンク",
            "nl": "Link",
            "pt-BR": "Link",
            "zh-CN": "链接",
            "zh-TW": "連結"
          }
        },
        {
          "type": "text",
          "id": "cta_label",
          "label": {
            "de": "Link-Label",
            "en": "Link label",
            "es": "Vincular etiqueta",
            "fr": "Étiquette de lien",
            "it": "Etichetta link",
            "ja": "リンクラベル",
            "nl": "Link-label",
            "pt-BR": "Etiqueta de link",
            "zh-CN": "链接标签",
            "zh-TW": "連結標籤"
          },
          "default": {
            "de": "Link-Label",
            "en": "Link label",
            "es": "Vincular etiqueta",
            "fr": "Étiquette de lien",
            "it": "Etichetta link",
            "ja": "リンクラベル",
            "nl": "Link-label",
            "pt-BR": "Etiqueta de link",
            "zh-CN": "链接标签",
            "zh-TW": "連結標籤"
          }
        }
      ]
    }
  ],
  "presets": [
    {
      "name": {
        "de": "Mehrere Linkblöcke",
        "en": "Multiple link blocks",
        "es": "Enlaces múltiples",
        "fr": "Blocs de liens multiples",
        "it": "Più gruppi di link",
        "ja": "複数のリンクのブロック",
        "nl": "Meerdere-link blokken",
        "pt-BR": "Blocos de links múltiplos",
        "zh-CN": "多个链接块",
        "zh-TW": "多重連結區塊"
      },
      "category": {
        "de": "Foto",
        "en": "Image",
        "es": "Imagen",
        "fr": "Image",
        "it": "Immagine",
        "ja": "画像",
        "nl": "Afbeelding",
        "pt-BR": "Imagem",
        "zh-CN": "图片",
        "zh-TW": "圖片"
      },
      "blocks": [
        {
          "type": "link_block"
        },
        {
          "type": "link_block"
        }
      ]
    }
  ]
}
{% endschema %}
